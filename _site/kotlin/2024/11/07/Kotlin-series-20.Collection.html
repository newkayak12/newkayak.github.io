<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>[kotlin Series] 20.collection | newkayak12.github.io</title>
	<meta name="description"
		content="Collection">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="/kotlin/2024/11/07/Kotlin-series-20.Collection.html">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="newkayak12.github.io"
		href="/feed.xml" />

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
		integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet"
		type="text/css">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css"
		integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">

	<script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js"
		integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ"
		crossorigin="anonymous"></script>
	

	<!-- Google Analytics -->
	
	<script>
		(function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date(); a = s.createElement(o),
			m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
		})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'G-4WXFZQCMT3', 'auto');
		ga('send', 'pageview');
	</script>
	
</head>
  <body>
    <header class="site-header">
	<div class="branding">
		
		<a href="/">
			<img class="avatar" src="/assets/img/avatar.jpeg" alt=""/>
		</a>
		
		<h1 class="site-title">
			<a href="/">newkayak12.github.io</a>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			
			
			
			
			
			<li>
				<a class="page-link" href="/about/">
					About
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<!-- Social icons from Font Awesome, if enabled  -->
			


<li>
	<a href="mailto:newkayak12@gmail.com" title="Email">
		<i class="fas fa-fw fa-envelope"></i>
	</a>
</li>













<li>
	<a href="https://github.com/newkayak12" title="Follow on GitHub">
		<i class="fab fa-fw fa-github"></i>
	</a>
</li>































            <!-- Search bar -->
            
            <li>
            <form action="/search.html" method="get">
                <input type="text" id="search-box" name="query" placeholder="Search" class="">
                <button type="submit" class="">
                    <i class="fa fa-fw fa-search"></i>
                </button>
            </form>
            </li>
            
		</ul>
	</nav>

</header>

    <div class="content">
      <article >
  <header style="background-image: url('/')">
    <h1 class="title">[kotlin Series] 20.collection</h1>
    
    <p class="meta">
      November 7, 2024
      
    </p>

    
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
    
  </header>
  <section class="post-content"><h1 id="collection">Collection</h1>

<ul>
  <li>컬렉션을 조작하는 모든 연산은 <code class="language-plaintext highlighter-rouge">inline 함수</code>다.</li>
</ul>

<h2 id="컬렉션-타입">컬렉션 타입</h2>
<ul>
  <li>타입은 기본적으로 <code class="language-plaintext highlighter-rouge">Array</code>, <code class="language-plaintext highlighter-rouge">Iterable</code>, <code class="language-plaintext highlighter-rouge">Sequence</code>, <code class="language-plaintext highlighter-rouge">Map</code>이 있다.</li>
</ul>

<p><img src="../assets/img/diagram.png" alt="diagram.png" /></p>

<h2 id="iterable">iterable</h2>
<ul>
  <li>일반적으로 <code class="language-plaintext highlighter-rouge">Iterable&lt;T&gt;</code>으로 표현되며, 일반적으로 즉시 계산되는 상태가 있는 컬렉션을 포함한다.</li>
  <li><code class="language-plaintext highlighter-rouge">hasNext()</code>, <code class="language-plaintext highlighter-rouge">next()</code>가 있다. <code class="language-plaintext highlighter-rouge">remove()</code>가 빠졌다.</li>
  <li>java와 kotlin의 차이점은 불변/ 가변을 나눈다는 것이다.</li>
</ul>

<h2 id="collection-list-set">collection, list, set</h2>

<h3 id="list">List</h3>
<ol>
  <li>ArrayList</li>
  <li>LinkedList</li>
</ol>

<h3 id="set">set</h3>
<ol>
  <li>LinkedHashSet</li>
  <li>TreeSet</li>
</ol>

<h2 id="sequence">sequence</h2>
<ul>
  <li>sequence 구현은 내부적이므로 외부에서 직접 사용할 수 없다. 대신 특별한 함수를 통해 시퀀스를 만들어야 한다.</li>
  <li>java의 stream과 비슷하다.</li>
</ul>

<h2 id="map">map</h2>
<ul>
  <li>key-value 쌍으로 이뤄진 집합</li>
</ul>

<h2 id="컬렉션-생성하기">컬렉션 생성하기</h2>
<ul>
  <li>emptyList()/emptySet()</li>
  <li>listOf()/setOf()</li>
  <li>listOfNotNull()</li>
  <li>mutableListOf()/ mutableSetOf()</li>
  <li>arrayListOf()</li>
  <li>hashSetOf()/ linkedSetOf()/ sortedSetOf()
    <h3 id="시퀀스-얻기">시퀀스 얻기</h3>
  </li>
  <li><code class="language-plaintext highlighter-rouge">asSequence()</code>/ <code class="language-plaintext highlighter-rouge">generateSequence()</code>
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">mapOf</span><span class="p">(</span><span class="mi">1</span> <span class="n">to</span> <span class="s">"one"</span><span class="p">,</span> <span class="mi">2</span> <span class="n">to</span> <span class="s">"Two"</span><span class="p">).</span><span class="nf">asSequence</span><span class="p">().</span><span class="nf">iterator</span><span class="p">().</span><span class="nf">next</span><span class="p">()</span>
<span class="nf">generateSequence</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="p">{</span> <span class="n">it</span> <span class="p">*</span> <span class="n">it</span> <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>kotlin 1.3부터 특별한 빌더로 사용해서 시퀀스를 만들 수 있다.</li>
  <li>builder는 시퀀스 원소르 부분부분 지정한다. <code class="language-plaintext highlighter-rouge">SequenceScope</code>가 수신 객체 타입인 확장 람다를 받는 <code class="language-plaintext highlighter-rouge">sequence()</code> 함수를 통해 빌더를 구현 할 수 있다.
    <ol>
      <li>yield(): 원소를 하나 시퀀스에 추가</li>
      <li>yieldAll(): 지정한 iterable, iterable, sequence에 있는 모든 원소를 시퀀스에 추가한다.</li>
    </ol>
  </li>
</ul>

<h2 id="컬렉션에-대한-조건-검사">컬렉션에 대한 조건 검사</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">all()</code> 함수는 모든 원소가 주어진 술어를 만족하면 true</li>
  <li><code class="language-plaintext highlighter-rouge">none()</code> <code class="language-plaintext highlighter-rouge">all()</code>의 반대</li>
  <li><code class="language-plaintext highlighter-rouge">any()</code>는 일부만 만족하면 된다.</li>
</ul>

<h2 id="집계"><a href="https://kotlinlang.org/docs/collection-grouping.html">집계</a></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">count()</code></li>
  <li><code class="language-plaintext highlighter-rouge">sum()</code></li>
  <li><code class="language-plaintext highlighter-rouge">sumOf{}</code></li>
  <li><code class="language-plaintext highlighter-rouge">average()</code></li>
  <li><code class="language-plaintext highlighter-rouge">minOrNull()</code></li>
  <li><code class="language-plaintext highlighter-rouge">maxOrNull()</code></li>
  <li><code class="language-plaintext highlighter-rouge">minByOrNull{}</code></li>
  <li><code class="language-plaintext highlighter-rouge">maxByOrNull{}</code></li>
  <li><code class="language-plaintext highlighter-rouge">minWithOrNull()</code></li>
  <li><code class="language-plaintext highlighter-rouge">maxWithOrNull()</code></li>
  <li><code class="language-plaintext highlighter-rouge">joinToString()</code></li>
  <li><code class="language-plaintext highlighter-rouge">reduce()</code></li>
  <li><code class="language-plaintext highlighter-rouge">reduceIndexed()</code></li>
  <li><code class="language-plaintext highlighter-rouge">fold()</code></li>
  <li><code class="language-plaintext highlighter-rouge">foldIndexed()</code></li>
</ul>

<blockquote>
  <p>reduce vs. fold</p>
  <ul>
    <li>초기 값을 커스텀할 수 있느냐 차이다.</li>
    <li>reduce는 초기값이 순회 대상의 첫 번째 요소</li>
    <li>fold는 java와 같이 지정할 수 있다.</li>
  </ul>
</blockquote>

<h2 id="필터링"><a href="https://kotlinlang.org/docs/collection-filtering.html">필터링</a></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">filter()</code></li>
  <li><code class="language-plaintext highlighter-rouge">filterKeys()</code></li>
  <li><code class="language-plaintext highlighter-rouge">filterValues()</code></li>
  <li><code class="language-plaintext highlighter-rouge">filterInstance()</code></li>
  <li><code class="language-plaintext highlighter-rouge">filterNot()</code></li>
  <li><code class="language-plaintext highlighter-rouge">filterIndexed()</code></li>
  <li><code class="language-plaintext highlighter-rouge">filterIsInstance()</code></li>
  <li><code class="language-plaintext highlighter-rouge">filterNotNull()</code></li>
  <li>위 함수에서 <code class="language-plaintext highlighter-rouge">~to</code>가 붙은 버전이 존재한다. 이는 원본을 직접 수정하는 함수다. 위의 함수들은 필터링 후 불변 컬렉션을 만들어낸다.</li>
</ul>

<h2 id="변환"><a href="https://kotlinlang.org/docs/collection-transformations.html">변환</a></h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">map()</code></li>
  <li><code class="language-plaintext highlighter-rouge">mapIndexed()</code></li>
  <li><code class="language-plaintext highlighter-rouge">mapNotNull()</code></li>
  <li><code class="language-plaintext highlighter-rouge">mapIndexedNotNull()</code></li>
  <li><code class="language-plaintext highlighter-rouge">mapKeys()</code></li>
  <li><code class="language-plaintext highlighter-rouge">mapValues()</code></li>
  <li>위의 함수에서 ~to가 붙은 버전은 원본을 수정하는 함수다. 위의 함수들은 변형 후 불변 컬렉션을 만들어낸다.</li>
  <li><code class="language-plaintext highlighter-rouge">flatMap()</code></li>
  <li><code class="language-plaintext highlighter-rouge">flatMapTo()</code></li>
  <li><code class="language-plaintext highlighter-rouge">flatten()</code>:각각의 컬렉션을 이어 붙인 한 컬렉션을 내놓는다. <code class="language-plaintext highlighter-rouge">flatMap()</code>에 단순 변환을 적용한 것으로 볼 수 있다.
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">println</span><span class="p">(</span><span class="nf">listOf</span><span class="p">(</span><span class="nf">listOf</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="nf">setOf</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="nf">listOf</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)).</span><span class="nf">flatten</span><span class="p">())</span><span class="c1">///[1,2,3,4,5]</span>
</code></pre></div>    </div>
  </li>
  <li><code class="language-plaintext highlighter-rouge">associateWith()</code> : 변환 함수를 바탕으로 원본 컬렉션 원소를 맵의 키나 맵의 값으로 만들 수 있는 변환이다.
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">println</span><span class="p">(</span> <span class="nf">listOf</span><span class="p">(</span><span class="s">"red"</span><span class="p">,</span> <span class="s">"green"</span><span class="p">,</span> <span class="s">"blue"</span> <span class="p">).</span><span class="nf">associateWith</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">length</span> <span class="p">})</span><span class="c1">// {red=3, green=5, blue=4}</span>
</code></pre></div>    </div>
  </li>
  <li><code class="language-plaintext highlighter-rouge">associateBy()</code> : <code class="language-plaintext highlighter-rouge">associateWith()</code>과 유사하지만 컬렉션 원소르 값으로 취급하고 변환함수를 통해서 키를 얻는다는 점이 다르다.
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">println</span><span class="p">(</span> <span class="nf">listOf</span><span class="p">(</span><span class="s">"red"</span><span class="p">,</span> <span class="s">"green"</span><span class="p">,</span> <span class="s">"blue"</span> <span class="p">).</span><span class="nf">associateBy</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">length</span> <span class="p">})</span><span class="c1">// {3=red, 5=green, 4=blue}</span>
</code></pre></div>    </div>
  </li>
  <li><code class="language-plaintext highlighter-rouge">associate()</code>: 직접 key, value를 정한다.
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">println</span><span class="p">(</span> <span class="nf">listOf</span><span class="p">(</span><span class="s">"red"</span><span class="p">,</span> <span class="s">"green"</span><span class="p">,</span> <span class="s">"blue"</span> <span class="p">).</span><span class="nf">associate</span> <span class="p">{</span> <span class="n">it</span><span class="p">.</span><span class="n">length</span> <span class="n">to</span> <span class="n">it</span><span class="p">.</span><span class="nf">uppercase</span><span class="p">()</span> <span class="p">})</span><span class="c1">// {3=RED, 5=GREEN, 4=BLUE}</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="하위-컬렉션-추출">하위 컬렉션 추출</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">subList()</code></li>
  <li><code class="language-plaintext highlighter-rouge">slice()</code>: subList와 유사하고 원 컬렉션을 반영할 수 있는 래퍼 객체를 만들어 낸다.</li>
  <li><code class="language-plaintext highlighter-rouge">sliceArray()</code>: 배열 원소를 다른 배열로 추출하고 싶다면 <code class="language-plaintext highlighter-rouge">sliceArray()</code>를 사용하면 된다.</li>
  <li><code class="language-plaintext highlighter-rouge">take()</code>/<code class="language-plaintext highlighter-rouge">takeList()</code>: 이터러블, 배열에서 우너소를 주어진 개수만큼 추출한다.</li>
  <li><code class="language-plaintext highlighter-rouge">drop()</code>/<code class="language-plaintext highlighter-rouge">dropLast()</code>: take류의 연산을 반전시킨 연산이다.</li>
  <li><code class="language-plaintext highlighter-rouge">chunked()</code>: 이터러블이나 시퀀스를 주어진 개수를 넘지 않는 작은 리스트들로 나눠준다.</li>
  <li><code class="language-plaintext highlighter-rouge">windowed()</code>: 일정한 간격으로 청크를 연속적으로 얻어낸 <strong>slidingWindow</strong>를 얻을 수 있다.
    <ul>
      <li>slidingWindow의 규칙을 정할 수 있다.
        <ol>
          <li>step: 서로 인접한 윈도우의 첫 번쨰 원소 사이의 거리</li>
          <li>partialWindow: 컬렉션의 마지막 부분에서 지정한 윈도우 크기보다 작은 크기의 윈도우를 포함시킬지 여부</li>
        </ol>
      </li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">zipWithNext()</code>
    <div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">val</span> <span class="py">list</span> <span class="p">=</span> <span class="nc">List</span><span class="p">(</span><span class="mi">6</span><span class="p">){</span> <span class="n">it</span> <span class="p">}</span>
<span class="n">list</span><span class="p">.</span><span class="nf">zipWithNext</span><span class="p">()</span> <span class="c1">// [(0,1), (1,2), (2,3), (3,4), (4,5)]</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="순서">순서</h2>
<ul>
  <li><code class="language-plaintext highlighter-rouge">sorted()</code></li>
  <li><code class="language-plaintext highlighter-rouge">sortedBy()</code></li>
  <li><code class="language-plaintext highlighter-rouge">sortedWith()</code></li>
  <li><code class="language-plaintext highlighter-rouge">sortedDescending()</code></li>
  <li><code class="language-plaintext highlighter-rouge">sortedArray()</code></li>
  <li><code class="language-plaintext highlighter-rouge">sortedArrayDescending()</code></li>
</ul>
</section>
  

</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
  
  <div id="previous-post" class="post-nav-post">
      <p>이전 글</p>
      <a href="/kotlin/2024/11/06/Kotlin-series-19.InlineClass.html">
        [kotlin Series] 19.inlineclass
      </a>
  </div>
  
  
  <div id="next-post" class="post-nav-post">
      <p>다음 글</p>
      <a href="/kotlin/2024/11/08/Kotlin-series-21.File.html">
        [kotlin Series] 21.file
      </a>
  </div>
  
</div>



    </div>
    
<script src="/assets/js/katex_init.js"></script>



<footer class="site-footer">
	<p class="text">Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/rohanchandra/type-theme">Type Theme</a>
</p>
</footer>


  </body>
</html>
