<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>[wanted Docker Series] 10.kubernetesresources | newkayak12.github.io</title>
	<meta name="description"
		content="Resources">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="/docker/wanted/2024/10/10/Wanted-Docker-series-10.KubernetesResources.html">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="newkayak12.github.io"
		href="/feed.xml" />

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
		integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet"
		type="text/css">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css"
		integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">

	<script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js"
		integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ"
		crossorigin="anonymous"></script>
	

	<!-- Google Analytics -->
	
	<script>
		(function (i, s, o, g, r, a, m) {
		i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
			(i[r].q = i[r].q || []).push(arguments)
		}, i[r].l = 1 * new Date(); a = s.createElement(o),
			m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
		})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

		ga('create', 'G-4WXFZQCMT3', 'auto');
		ga('send', 'pageview');
	</script>
	
</head>
  <body>
    <header class="site-header">
	<div class="branding">
		
		<a href="/">
			<img class="avatar" src="/assets/img/avatar.jpeg" alt=""/>
		</a>
		
		<h1 class="site-title">
			<a href="/">newkayak12.github.io</a>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			
			
			
			
			
			<li>
				<a class="page-link" href="/about/">
					About
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<!-- Social icons from Font Awesome, if enabled  -->
			


<li>
	<a href="mailto:newkayak12@gmail.com" title="Email">
		<i class="fas fa-fw fa-envelope"></i>
	</a>
</li>













<li>
	<a href="https://github.com/newkayak12" title="Follow on GitHub">
		<i class="fab fa-fw fa-github"></i>
	</a>
</li>































            <!-- Search bar -->
            
            <li>
            <form action="/search.html" method="get">
                <input type="text" id="search-box" name="query" placeholder="Search" class="">
                <button type="submit" class="">
                    <i class="fa fa-fw fa-search"></i>
                </button>
            </form>
            </li>
            
		</ul>
	</nav>

</header>

    <div class="content">
      <article >
  <header style="background-image: url('/')">
    <h1 class="title">[wanted Docker Series] 10.kubernetesresources</h1>
    
    <p class="meta">
      October 10, 2024
      
    </p>

    
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script>
    
  </header>
  <section class="post-content"><h1 id="resources">Resources</h1>

<h2 id="pod-service-deployment-replicaset">Pod, Service, Deployment, ReplicaSet</h2>
<ul>
  <li>Pod: 컨테이너의 실행 단위, 가장 작은 배포 단위</li>
  <li>ReplicaSet: 틀정 개수의 Pod가 항상 실행되도록 보장</li>
  <li>Deployment: Pod와 ReplicaSet을 관리하며, 애플리케이션 상태를 정의하고, 무중단 업데이트, 롤백 등의 기능을 제공</li>
  <li>Service: Pod의 네트워크 접근을 관리하고, 로드 밸런싱 및 고정된 네트워크 엔드포인트를 제공</li>
</ul>

<h3 id="pod">Pod</h3>
<ul>
  <li>배포되고 관리되는 가장 작은 단위, 컨테이너들의 논리적 그룹</li>
  <li>주요 특징:
    <ul>
      <li>단일 컨테이너 또는 여러 컨테이너로 구성될 수 있다.</li>
      <li>Pod 내 모든 컨테이너는 같은 네트워크 IP 주소를 공유한다.</li>
      <li>짧은 생명 주기를 가지며, Pod 자체는 불안정하고 휘발성임</li>
    </ul>
  </li>
  <li>추가 사항 : 주 컨테이너, 사이드카 컨테이너가 하나의 Pod로 묶이는 경우가 많음</li>
</ul>

<h3 id="service">Service</h3>

<p><img src="/assets/img/service.png" alt="service.png" /></p>

<ul>
  <li>서비스는 Pod들의 네트워크 접근을 관리</li>
  <li>Pod의 수명에 의한 가변성을 추상화</li>
  <li>Pod가 생성되거나 종료되더라도 항상 고정된 네트워크 접근을 제공하며, Pod에 대한 네트워크 요청을 로드밸런식하여 효율적으로 관리함</li>
</ul>

<h4 id="주요-특징">주요 특징</h4>
<ol>
  <li>고정된 IP 주소와 DNS 이름 제공
    <ul>
      <li>k8s Pod는 생성될 때마다 새로운 IP를 할당 받음</li>
      <li>서비스는 이런 Pod의 특성과 달리 고정된 IP, DNS를 제공하며 일관된 네트워크 접근을 가능하게 한다.</li>
      <li>DNS 기반 서비스 디스커버리를 사용하며, 고정된 DNS 이름을 통해 다른 서비스를 접근할 수 있다.</li>
    </ul>
  </li>
  <li>라벨 셀렉터
    <ul>
      <li>서비스틑 라벨 셀렉터를 사용하여, 특정 레이블을 가진 Pod들을 자동으로 찾고 이를 백엔드로 연결</li>
      <li>Label은 Pod와 같은 k8s 리소스를 태그를 추가해서 관리하는 방식이다.</li>
      <li>서비스는 이 라벨을 기준으로 Pod를 그룹화하고, 트래픽을 해당 그룹에 전달한다.</li>
      <li>애플리케이션 업데이트 시에도 서비스는 새로운 Pod로 자동으로 트래픽을 라우팅할 수 있다.</li>
    </ul>
  </li>
  <li>클러스터 내부 및 외부 서비스
    <ul>
      <li>클러스터 내부 또는 외부 네트워크에서 접근 가능하도록 설정할 수 있다.
        <ul>
          <li>ClusterIP : 클러스터 내부에서만 접근 가능한 IP</li>
          <li>NodePort : 각 노드의 고정도니 포트를 열어서 외부에서 노드 IP와 포트를 통해서 직접 접근 가능하게 한다.</li>
          <li>LoadBalancer : 클라우드 제공자의 로드밸런서를 자동으로 설정하여 외부 클라이언트가 서비스에 접근할 수 있도록 한다.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>로드 밸런싱
    <ul>
      <li>서비스는 Pod의 네트워크 요청을 로드밸런싱하여 트래픽을 효율적으로 분산한다.</li>
      <li>동일한 서비스를 제공하는 여러 Pod로 트래픽이 균등하게 분배되어 과도한 부하가 걸리는 것을 방지</li>
      <li>외부 로드밸런서와 k8s의 내부 로드밸런서가 협력하여 트래픽으 ㄹ최저고하</li>
    </ul>
  </li>
</ol>

<h4 id="서비스-타입">서비스 타입</h4>

<ol>
  <li>ClusterIP
    <ul>
      <li>특징
        <ul>
          <li>기본 서비스 타입: 기본적으로 설정되는 서비스 타입으로 외부에서 접근할 수 없고 클러스터 내부의 다른 Pod이 서비스에 연결할 수 있도록 설정한다.</li>
          <li>내부 통신에 최적화 : 애플리케이션 간 내부 통신을 위해서 설계됐다.</li>
          <li>DNS 이름 제공 : ClusterIP는 서비스의 고정된 IP 주소와 DNS 이름을 제공한다. Pod가 클러스터 내에서 서비스를 발견하고 통신할 수 있도록 한다.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>NodePort
    <ul>
      <li>특징
        <ul>
          <li>고정된 포트 사용 : 30000 ~ 32767</li>
          <li>클래스터 내 모든 노드에서 접근 가능 : 모든 노드에서 동일한 포트가 열리며, 외부 클라이언트는 클러스터의 어떤 노드 IP를 통해서도 해당 포트로 접근이 가능</li>
          <li>ClusterIP 서비스와 연결: NodePort는 내부적으로 ClusterIP를 생성하며, 외부에서 온 트래픽은 ClusterIP를 통해서 전파된다.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>LoadBalancer
    <ul>
      <li>특징
        <ul>
          <li>외부 트래픽 노출: LoadBalancer는 외부에서 애플리케이션에 접근할 수 있도록 클라우드에서 관리되는 로드 밸런서를 생성한다. PublicIP를 제공하며, 외부 클라이언트가 서비스에 접속할 수 있게 한다.</li>
          <li>트래픽 분산: 여러 노드의 Pod로 분산하여 애플리케이션의 부하를 효율적으로 처리</li>
          <li>NodePort, ClusterIP와 연동 : LoadBalancer는 NordPort 및 ClusterIP를 사용한다.</li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<h3 id="deployment">Deployment</h3>
<ul>
  <li>Pod와 ReplicaSet을 관리하는 상위 개념으로, 애플리케이션의 상태를 정의하고 무중단 배포, 업데이트, 롤백 등의 기능을 제공한다.</li>
  <li>지속적 배포를 위해서 사용되며, k8s 클러스터에서 애플리케이션의 버전 관리와 확장을 자동화한다.</li>
  <li>특징
    <ul>
      <li>Deployment를 통해 Pod와 ReplicaSet을 정의할 수 있다.</li>
      <li>Deployment에서 Pod의 template을 정의하고 Pod가 몇 개의 복제본으로 실행될지 설정할 수 있다.</li>
      <li>RollingUpdate를 통해서 점진적으로 업데이트 할 수 있다.</li>
      <li>Rollback을 할 수 있다.</li>
      <li>자동 확장을 설정할 수 있다.</li>
    </ul>
  </li>
</ul>

<h3 id="replicaset">ReplicaSet</h3>
<ul>
  <li>특정 개수의 Pod가 항상 실행 중임을 보장하는 k8s 리소스</li>
  <li>특징
    <ul>
      <li>실행할 Pod의 수를 설정할 수 있으며, ReplicaSet은 이 설정을 기반으로 Pod의 수를 자동으로 조정</li>
      <li>Pod가 실패하거나 종료되면 ReplicaSet이 이를 감지하고, 새로운 Pod를 생성하여 DesiredState를 유지</li>
      <li>Deployment에 의해 자동으로 생성되며, 사용자가 직접 ReplicaSet을 생성할 필요는 거의 없다.</li>
    </ul>
  </li>
</ul>

<h2 id="관계성">관계성</h2>
<ol>
  <li>Deployment는 사용자가 애플리케이션의 상태를 정의하는 리소스 ReplicaSet을 생성하며 복제된 Pod가 항상 정의된 수만큼 실행되도록 보장</li>
  <li>ReplicaSet: 복제된 Pod가 항상 정의된 수만큼 실행되도록 보장</li>
  <li>Pod: 컨테이너의 실행 단위</li>
  <li>Service: Pod들이 동적으로 변동되더라도, 고정된 네트워크 엔드 포인트를 제공</li>
</ol>
</section>
  

</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
  
  <div id="previous-post" class="post-nav-post">
      <p>이전 글</p>
      <a href="/docker/wanted/2024/10/09/Wanted-Docker-series-09.Kubernetes.html">
        [wanted Docker Series] 09.kubernetes
      </a>
  </div>
  
  
  <div id="next-post" class="post-nav-post">
      <p>다음 글</p>
      <a href="/docker/wanted/2024/10/11/Wanted-Docker-series-11.Manifest.html">
        [wanted Docker Series] 11.manifest
      </a>
  </div>
  
</div>



    </div>
    
<script src="/assets/js/katex_init.js"></script>



<footer class="site-footer">
	<p class="text">Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/rohanchandra/type-theme">Type Theme</a>
</p>
</footer>


  </body>
</html>
