<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>[mysql Series] 05 Function | newkayak12.github.io</title>
	<meta name="description"
		content="from Dictionary - Function">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="/mysql/2024/05/22/mysql-series-05-Function.html">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="newkayak12.github.io"
		href="/feed.xml" />

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
		integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet"
		type="text/css">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css"
		integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">

	<script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js"
		integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ"
		crossorigin="anonymous"></script>
	

	<!-- Google Analytics -->
	
</head>
  <body>
    <header class="site-header">
	<div class="branding">
		
		<a href="/">
			<img class="avatar" src="/assets/img/avatar.jpeg" alt=""/>
		</a>
		
		<h1 class="site-title">
			<a href="/">newkayak12.github.io</a>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			
			
			
			
			
			<li>
				<a class="page-link" href="/about/">
					About
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<!-- Social icons from Font Awesome, if enabled  -->
			


<li>
	<a href="mailto:newkayak12@gmail.com" title="Email">
		<i class="fas fa-fw fa-envelope"></i>
	</a>
</li>













<li>
	<a href="https://github.com/newkayak12" title="Follow on GitHub">
		<i class="fab fa-fw fa-github"></i>
	</a>
</li>































            <!-- Search bar -->
            
		</ul>
	</nav>

</header>

    <div class="content">
      <article >
  <header style="background-image: url('/')">
    <h1 class="title">[mysql Series] 05 Function</h1>
    
    <p class="meta">
      May 22, 2024
      
    </p>
  </header>
  <section class="post-content"><p>from <a href="https://github.com/newkayak12/Dictionary/blob/master/sql/05.Function.md">Dictionary - Function</a></p>

<h1 id="함수">함수</h1>

<h2 id="숫자-관련-함수">숫자 관련 함수</h2>
<ol>
  <li>ABS</li>
  <li>CEIL / FLOOR</li>
  <li>ROUND(n, i) / TRUNC(n1, n2) : 반올림 / 잘라냄</li>
  <li>POWER / SQRT : 제곱 / 제곱근</li>
  <li>MOD(n2, n1) / REMAINDER(n2, n1) : n2를 n1으로 나눈 값 / n2를 n1으로 나눈 나머지</li>
  <li>EXP(n) / LN(n) / LOG(n2, n1) : e의 n제곱 / 자연 로그 함수로 밑수가 e인 로그 함수 / n2를 밑수로 하는 n1의 로그</li>
</ol>

<h2 id="문자-함수">문자 함수</h2>
<ol>
  <li>INITCAP(char), LOWER(char), UPPER(char) : 첫 글자 대문자 / lowerCase / upperCase</li>
  <li>CONCAT(char1, char2), SUBSTR(char, pos, len), SUBSTRB(char, pos, len) : 문자 결합 / char의 pos부터 len 길이만큼 잘라냄 / len이 길이가 아닌 문자열 바이트</li>
  <li>LTRIM(char, set), RTRIM(char set) : char 문자열에서 set으로 지정된 문자열을 왼쪽 끝에서 제거한 후 반환 / ~ 오른쪽 끝에서</li>
  <li>LPAD(expr1, n, expr2), RPAD(expr1, n, expr2) : exp2을 왼/오른쪽부터 n자리만큼 채워 expr1을 반환</li>
  <li>REPLACE(char, search_str, replace_str), TRANSLATE(expr, from_str, to_str) : char에서 search_str문자열을 찾아 replace_str로 대체 / REPLACE와 유사하지만 문자열 자체가 아닌 한 글자씩 매핑해 바꾼 결과를 반환</li>
  <li>INSTR(str, substr, pos, occur), LENGTH(chr), LENGTHB(chr) : str에서 substr과 일치하는 위치를 반환하는데 pos는 시작 위치로 기본 값은 1, occur은 몇 번째 일치하는지 / LENGTH는 길이 / LENGTHB는 바이트 수</li>
</ol>

<h2 id="날짜-함수">날짜 함수</h2>
<ol>
  <li>SYSDATE, SYSTIMESTAMP : DATE, TIMESTAMP 형으로 반환</li>
  <li>ADD_MONTHS(date, integer)</li>
  <li>MONTHS_BETWEEN(date1, date2) : 두 날짜 사이 개월 수</li>
  <li>LAST_DAY(date) : date날짜를 기준으로 해당 월의 마지막 일자를 반환</li>
  <li>ROUND(date, format), TRUNC(date, format) : format에 반올림한 날짜 / 잘라낸 날짜
```sql
SELECT SYSDATE, ROUND(SYSDATE, ‘month’), TRUNC(SYSDATE, ‘month’) FROM DUAL;</li>
</ol>

<p>2023-10-01 22:09:24 | 2023-11-01 00:00:00 | 2023-09-01 00:00:00 |</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>6. NEXT_DAY( date, char ) : date를 char에 명시한 날짜로 다음 주 주중 날짜를 반환(char =&gt; 요일)

## 변환 함수
1. TO_CHAR(숫자 혹은 날짜, format) : 형식에 맞게 출력
2. TO_NUMBER(expr, format) : 문자나 다른 유형의 숫자를 NUMBER형으로 변환
3. TO_DATE(char, format), TO_TIMESTAMP(char, format)

## NULL 관련 함수
1. NVL(expr1, expr2), NVL2(expr1, expr2, expr3) : ifnull
2. COALESCE
3. NULLIF

## 집계함수
1. COUNT
2. SUM
3. AVG
4. MIN, MAX, 
5. VARIANCE, STDDEV : 분산/ 표준편차

### ROLLUP / CUBE
1. ROLLUP : 집계 정보를 보여준다.
2. CUBE : ROLLUP과 유사하지만 가능한 모든 조합으로 집계한 결과를 반환
```sql
 PERIOD GUBUN TOTAL_JAN
------------------------
201310  기타대출  676078
201310  주택담보  1234
201311  기타대출  4423
201311  주택담보  1412

SELECT period, gubun, SUM(loan_jan_amt) total_jan FROM ~
WHERE period LIKE ~
GROUP BY ROLLUP(period, gubun);

## ROLLUP
PERIOD GUBUN TOTAL_JAN
------------------------
201310  기타대출  1423
201310  주택담보  1234
201310          2657
201311  기타대출  4423
201311  주택담보  1412
201311          5835


SELECT period, gubun, SUM(loan_jan_amt) total_jan FROM ~
WHERE period LIKE ~
GROUP BY CUBE(period, gubun);

## CUBE
PERIOD GUBUN TOTAL_JAN
------------------------
                (전체 합)
        기타대출  (기타대출 전체 합)
        주택담보  (주택담보 전체 합)
201310          2657
201310  기타대출  1423
201310  주택담보  1234
201311          5835
201311  기타대출  4423
201311  주택담보  1412
</code></pre></div></div>
<h2 id="집합-연산자">집합 연산자</h2>
<ol>
  <li>UNION : 합집합</li>
  <li>UNION_ALL : 중복된 항목도 모두 조회 (합집합 + 교집합)</li>
  <li>INTERSECT : 교집합</li>
  <li>MINUS : 차집합</li>
</ol>

<ul>
  <li>제약 사항
    <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">1</span><span class="p">.</span> <span class="err">집한</span> <span class="err">연산자</span> <span class="err">컬럼</span> <span class="err">개수</span><span class="p">,</span> <span class="err">데이터</span> <span class="err">타입이</span> <span class="err">일치해야</span> <span class="err">한다</span><span class="p">.</span>
<span class="mi">2</span><span class="p">.</span> <span class="k">ORDER</span> <span class="k">BY</span><span class="err">는</span> <span class="err">맨</span> <span class="err">마지막</span> <span class="err">문장에서만</span> <span class="err">사용</span> <span class="err">가능</span>
<span class="mi">3</span><span class="p">.</span> <span class="nb">BLOB</span><span class="p">,</span> <span class="k">CLOB</span><span class="p">,</span> <span class="n">BFILE</span><span class="err">은</span> <span class="err">집한</span> <span class="err">연산자</span> <span class="err">사용이</span> <span class="err">불가</span>
<span class="mi">4</span><span class="p">.</span> <span class="k">UNION</span><span class="p">,</span> <span class="k">INTERSECT</span><span class="p">,</span> <span class="n">MINUS</span><span class="err">는</span> <span class="n">LONG</span> <span class="err">형</span> <span class="err">컬럼에</span> <span class="err">사용할</span> <span class="err">수</span> <span class="err">없다</span><span class="p">.</span> 
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="grouping-set">GROUPING SET</h2>
<p>GROUPING SET ( expr1, expr2, expr3 ) ==
(
GROUP BY expr1 
   UNION ALL
GROUP BY expr2
   UNION ALL
GROUP BY expr3
)</p>
</section>
  

</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
  
  <div id="previous-post" class="post-nav-post">
      <p>Previous post</p>
      <a href="/mysql/2024/05/22/mysql-series-04-OperatorAndExpression.html">
        [mysql Series] 04 Operatorandexpression
      </a>
  </div>
  
  
  <div id="next-post" class="post-nav-post">
      <p>Next post</p>
      <a href="/mysql/2024/05/22/mysql-series-06-Join.html">
        [mysql Series] 06 Join
      </a>
  </div>
  
</div>



    </div>
    
<script src="/assets/js/katex_init.js"></script>



<footer class="site-footer">
	<p class="text">Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/rohanchandra/type-theme">Type Theme</a>
</p>
</footer>


  </body>
</html>
