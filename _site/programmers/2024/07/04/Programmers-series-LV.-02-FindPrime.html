<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>[programmers Series] Lv. 02 Findprime | newkayak12.github.io</title>
	<meta name="description"
		content="소수 찾기">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="/programmers/2024/07/04/Programmers-series-LV.-02-FindPrime.html">

	<!-- RSS -->
	<link rel="alternate" type="application/atom+xml" title="newkayak12.github.io"
		href="/feed.xml" />

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
		integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet"
		type="text/css">
	

	<!-- KaTeX -->
	
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css"
		integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">

	<script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js"
		integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ"
		crossorigin="anonymous"></script>
	

	<!-- Google Analytics -->
	
</head>
  <body>
    <header class="site-header">
	<div class="branding">
		
		<a href="/">
			<img class="avatar" src="/assets/img/avatar.jpeg" alt=""/>
		</a>
		
		<h1 class="site-title">
			<a href="/">newkayak12.github.io</a>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			
			
			
			
			
			<li>
				<a class="page-link" href="/about/">
					About
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<!-- Social icons from Font Awesome, if enabled  -->
			


<li>
	<a href="mailto:newkayak12@gmail.com" title="Email">
		<i class="fas fa-fw fa-envelope"></i>
	</a>
</li>













<li>
	<a href="https://github.com/newkayak12" title="Follow on GitHub">
		<i class="fab fa-fw fa-github"></i>
	</a>
</li>































            <!-- Search bar -->
            
		</ul>
	</nav>

</header>

    <div class="content">
      <article >
  <header style="background-image: url('/')">
    <h1 class="title">[programmers Series] Lv. 02 Findprime</h1>
    
    <p class="meta">
      July 4, 2024
      
    </p>
  </header>
  <section class="post-content"><h1 id="소수-찾기">소수 찾기</h1>

<p><a href="https://school.programmers.co.kr/learn/courses/30/lessons/42839">Programmers</a></p>

<blockquote>
  <pre>
   한자리 숫자가 적힌 종이 조각이 흩어져있습니다.
   흩어진 종이 조각을 붙여 소수를 몇 개 만들 수 있는지 알아내려 합니다.

    각 종이 조각에 적힌 숫자가 적힌 문자열 numbers가 주어졌을 때,
    종이 조각으로 만들 수 있는 소수가 몇 개인지 return 하도록 solution 함수를 완성해주세요.

제한사항
 - numbers는 길이 1 이상 7 이하인 문자열입니다.
 - numbers는 0~9까지 숫자만으로 이루어져 있습니다.
 - "013"은 0, 1, 3 숫자가 적힌 종이 조각이 흩어져있다는 의미입니다.
</pre>
</blockquote>

<h2 id="알고리즘">알고리즘</h2>

<h3 id="애라토네스의-체">애라토네스의 체</h3>

<ol>
  <li>
    <p>소수
소수란 1과 자기 자신만을 약수로 가지는 수</p>
  </li>
  <li>
    <p>에라토네스의 체 아이디어
소수라면 1과 자신만을 약수로 갖을 거다. 따라서 1 ~ 자신 사이의 수로 본인을 나눈 나머지가 0이 되는 경우가 없는 경우가 소수이다.</p>
  </li>
  <li>방법
    <blockquote>
      <p>#1. 2부터 본인 전까지 순회하면서 나머지가 0이 나온다면 소수가 아니라고 결론짓는다. 그렇지 않으면 소수로 판별한다.
그러나 이 아이디어는 자기 자신이 크면 순회할 사이의 수가 증가한다는 단점이 있다.</p>

      <p>이를 개선하기 위해서 본인의 제곱근 만큼 순회하도록 한다. 약수는 짝이 있으므로 하나를 정하면 다른 하나도 자동으로 정해진다.
ex) 6의 약수는 (1, 6), (2, 3) 있다. 이런 케이스가 아니라면 9의 경우 (1, 9), (3)이 있다. 어쨋든 제곱근까지 순회하면서 약수로 판별이 되면
나머지 하나도 확정이기 때문에 굳이 끝까지 순회할 필요가 없다.</p>
    </blockquote>
  </li>
  <li>코드</li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">boolean</span> <span class="nf">eratosthenes</span><span class="o">(</span><span class="kt">long</span> <span class="n">number</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">number</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">;</span> <span class="c1">//1은 소수가 아니다.</span>
        
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="n">number</span><span class="o">);</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">number</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">TRUE</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="dfs">DFS</h3>

<ol>
  <li>설명
경우의 수의 끝을 본 후 다음을 보는 식의 순회이다. 보통 그래프에서 깊이를 우선적으로 탐색하는 알고리즘이라고 한다. 
주로 탐색한 경로를 모두 탐색하고 그 바로 전 상황으로 넘어가서(일종의 백트래킹) 다른 경우의 수를 탐색하는 식이다.</li>
</ol>

<p>그렇기 때문에 찾은 경우의 수가 최선이라고는 할 수 없다.</p>

<ol>
  <li>
    <p>방법
스택, 재귀함수로 구현한다.</p>
  </li>
  <li>
    <p>구현
재귀도 결국 콜스택을 사용하므로 핵심은 스택이다. 재귀와 스택 차이는 당시 상황을 캡쳐링하는 하냐 아니냐의 차이일거다. 콜스택을 사용하면 마지막으로 닿으면
리턴되면서 케이스가 종료되고 이전 상태에서 방문 상태로 전으로 바꿔서 그 전 상태에서 다른 방향으로 탐색한다. 
스택으로는 이전 상태를 기억하는 과정이 필요해보인다.</p>
  </li>
</ol>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">DFS</span> <span class="o">{</span>
    <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"12345"</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        
        <span class="n">recursive</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="s">""</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">numbers</span><span class="o">.</span><span class="na">length</span><span class="o">()]);</span>
        <span class="n">stack</span><span class="o">(</span><span class="n">numbers</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="nf">recursive</span><span class="o">(</span><span class="nc">String</span> <span class="n">numbers</span><span class="o">,</span> <span class="nc">String</span> <span class="n">prev</span><span class="o">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">[]</span> <span class="n">visit</span><span class="o">)</span> <span class="o">{</span>


        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">numbers</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">depth</span><span class="o">)</span> <span class="k">return</span> <span class="n">result</span><span class="o">;</span>

        <span class="nc">String</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">visit</span><span class="o">[</span><span class="n">i</span><span class="o">])</span> <span class="k">continue</span><span class="o">;</span>

            <span class="n">visit</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>  <span class="c1">//탐색했다고 마킹하고</span>
            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">prev</span> <span class="o">+</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]));</span>
            <span class="n">result</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">permutation</span><span class="o">(</span><span class="n">numbers</span><span class="o">,</span> <span class="n">prev</span> <span class="o">+</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">visit</span><span class="o">));</span>
            <span class="c1">//마킹된 상태가 캡쳐된 상태로 탐색을 진행한다.</span>
            <span class="n">visit</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">//재귀가 끝난뒤 해제한다.</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
    
    <span class="c1">//상태 보존을 위해 간단하게 튜플을 사용</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Tuple</span> <span class="o">&lt;</span><span class="no">T1</span><span class="o">,</span> <span class="no">T2</span><span class="o">&gt;{</span>
        <span class="kd">public</span> <span class="no">T1</span> <span class="n">t1</span><span class="o">;</span>
        <span class="kd">public</span> <span class="no">T2</span> <span class="n">t2</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">Tuple</span><span class="o">(</span><span class="no">T1</span> <span class="n">t1</span><span class="o">,</span> <span class="no">T2</span> <span class="n">t2</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">t1</span> <span class="o">=</span> <span class="n">t1</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">t2</span> <span class="o">=</span> <span class="n">t2</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span>  <span class="o">&lt;</span><span class="no">T1</span><span class="o">,</span> <span class="no">T2</span><span class="o">&gt;</span> <span class="nc">Tuple</span> <span class="nf">of</span><span class="o">(</span><span class="no">T1</span> <span class="n">t1</span><span class="o">,</span> <span class="no">T2</span> <span class="n">t2</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nc">Tuple</span><span class="o">&lt;&gt;(</span><span class="n">t1</span><span class="o">,</span> <span class="n">t2</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="kd">private</span> <span class="kd">static</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="nf">stack</span><span class="o">(</span> <span class="nc">String</span> <span class="n">n</span> <span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>

        <span class="k">for</span><span class="o">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strings</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span> <span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
            <span class="nc">Stack</span><span class="o">&lt;</span><span class="nc">Tuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">[]&gt;&gt;</span> <span class="n">charSet</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Stack</span><span class="o">&lt;&gt;();</span>
            <span class="kt">boolean</span><span class="o">[]</span> <span class="n">visit</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">strings</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="nc">String</span> <span class="n">charac</span> <span class="o">=</span> <span class="n">strings</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">charac</span><span class="o">);</span>
            <span class="n">visit</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

            <span class="n">charSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Tuple</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">charac</span><span class="o">,</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">visit</span><span class="o">,</span> <span class="n">visit</span><span class="o">.</span><span class="na">length</span><span class="o">)));</span>
<span class="c1">//처음 상태를 스택에 넣고</span>
            
            <span class="k">while</span><span class="o">(</span> <span class="o">!</span><span class="n">charSet</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">){</span>
                <span class="nc">Tuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">[]&gt;</span> <span class="n">pop</span> <span class="o">=</span> <span class="n">charSet</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
                <span class="c1">//팝하면서 순회</span>
                <span class="c1">//스택이 비면 종료</span>

                <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">strings</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span> <span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span><span class="o">(!</span><span class="n">pop</span><span class="o">.</span><span class="na">t2</span><span class="o">[</span><span class="n">j</span><span class="o">])</span> <span class="o">{</span>

                        <span class="kt">boolean</span><span class="o">[]</span> <span class="n">cloneMap</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">pop</span><span class="o">.</span><span class="na">t2</span><span class="o">,</span> <span class="n">pop</span><span class="o">.</span><span class="na">t2</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
                        <span class="c1">//상태를 clone해서 기억하고</span>
                        <span class="n">cloneMap</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                        <span class="n">charSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Tuple</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">pop</span><span class="o">.</span><span class="na">t1</span><span class="o">+</span><span class="n">strings</span><span class="o">[</span><span class="n">j</span><span class="o">],</span> <span class="n">cloneMap</span><span class="o">));</span>
                        <span class="c1">//스택에 추가</span>
                        
                        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">pop</span><span class="o">.</span><span class="na">t1</span><span class="o">+</span><span class="n">strings</span><span class="o">[</span><span class="n">j</span><span class="o">]);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">set</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">Long:</span><span class="o">:</span><span class="n">parseLong</span><span class="o">).</span><span class="na">distinct</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
    
<span class="o">}</span>
</code></pre></div></div>

<h2 id="풀이">풀이</h2>

<p>따록 속도적인 측면 보다 DFS 구현 방법에 초점을 맞춰봤다.</p>

<h3 id="1번-dfs재귀">1번 DFS(재귀)</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">FindPrime</span> <span class="o">{</span>
   
    <span class="nd">@Nested</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCases</span> <span class="o">{</span>
        <span class="nd">@Test</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">case1</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"17"</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
            <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">solution</span><span class="o">(</span><span class="n">numbers</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="nd">@Test</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">case2</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"011"</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
            <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">solution</span><span class="o">(</span><span class="n">numbers</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="nd">@Test</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">case3</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"232"</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
            <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">solution</span><span class="o">(</span><span class="n">numbers</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="nd">@Test</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">case4</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"1234"</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">14</span><span class="o">;</span>
            <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">solution</span><span class="o">(</span><span class="n">numbers</span><span class="o">));</span>
        <span class="o">}</span>

    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">solution</span><span class="o">(</span><span class="nc">String</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="n">numberSet</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">permutation</span><span class="o">(</span><span class="n">numbers</span><span class="o">,</span> <span class="s">""</span><span class="o">,</span> <span class="mi">0</span><span class="o">,</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">numbers</span><span class="o">.</span><span class="na">length</span><span class="o">()]).</span><span class="na">stream</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toSet</span><span class="o">());</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Long</span> <span class="n">isPrime</span> <span class="o">:</span> <span class="n">numberSet</span><span class="o">)</span> <span class="o">{</span>  <span class="k">if</span> <span class="o">(</span><span class="n">eratosthenes</span><span class="o">(</span><span class="n">isPrime</span><span class="o">))</span> <span class="n">answer</span> <span class="o">+=</span> <span class="mi">1</span><span class="o">;</span> <span class="o">}</span>

        <span class="k">return</span> <span class="n">answer</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">eratosthenes</span><span class="o">(</span><span class="kt">long</span> <span class="n">number</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">number</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="n">number</span><span class="o">);</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">number</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">TRUE</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="nf">permutation</span><span class="o">(</span><span class="nc">String</span> <span class="n">numbers</span><span class="o">,</span> <span class="nc">String</span> <span class="n">prev</span><span class="o">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">[]</span> <span class="n">visit</span><span class="o">)</span> <span class="o">{</span>


        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">numbers</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">depth</span><span class="o">)</span> <span class="k">return</span> <span class="n">result</span><span class="o">;</span>

        <span class="nc">String</span><span class="o">[]</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>

        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">visit</span><span class="o">[</span><span class="n">i</span><span class="o">])</span> <span class="k">continue</span><span class="o">;</span>

            <span class="n">visit</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Long</span><span class="o">.</span><span class="na">parseLong</span><span class="o">(</span><span class="n">prev</span> <span class="o">+</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">]));</span>
            <span class="n">result</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">permutation</span><span class="o">(</span><span class="n">numbers</span><span class="o">,</span> <span class="n">prev</span> <span class="o">+</span> <span class="n">arr</span><span class="o">[</span><span class="n">i</span><span class="o">],</span> <span class="n">depth</span> <span class="o">+</span> <span class="mi">1</span><span class="o">,</span> <span class="n">visit</span><span class="o">));</span>
            <span class="n">visit</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>


<span class="o">}</span>
</code></pre></div></div>

<h3 id="2번-dfs스택--튜플">2번 DFS(스택 + 튜플)</h3>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">FindPrime</span> <span class="o">{</span>
    <span class="nd">@Nested</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">TestCases</span> <span class="o">{</span>
        <span class="nd">@Test</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">case1</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"17"</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
            <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">solution</span><span class="o">(</span><span class="n">numbers</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="nd">@Test</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">case2</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"011"</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
            <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">solution</span><span class="o">(</span><span class="n">numbers</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="nd">@Test</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">case3</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"232"</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
            <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">solution</span><span class="o">(</span><span class="n">numbers</span><span class="o">));</span>
        <span class="o">}</span>

        <span class="nd">@Test</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">case4</span><span class="o">()</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">numbers</span> <span class="o">=</span> <span class="s">"1234"</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">14</span><span class="o">;</span>
            <span class="nc">Assertions</span><span class="o">.</span><span class="na">assertEquals</span><span class="o">(</span><span class="n">result</span><span class="o">,</span> <span class="n">solution</span><span class="o">(</span><span class="n">numbers</span><span class="o">));</span>
        <span class="o">}</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">solution</span><span class="o">(</span><span class="nc">String</span> <span class="n">numbers</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="n">numberSet</span> <span class="o">=</span> <span class="k">this</span><span class="o">.</span><span class="na">permutation</span><span class="o">(</span><span class="n">numbers</span><span class="o">);</span>

        <span class="k">for</span> <span class="o">(</span><span class="nc">Long</span> <span class="n">isPrime</span> <span class="o">:</span> <span class="n">numberSet</span><span class="o">)</span> <span class="o">{</span>  <span class="k">if</span> <span class="o">(</span><span class="n">eratosthenes</span><span class="o">(</span><span class="n">isPrime</span><span class="o">))</span> <span class="n">answer</span> <span class="o">+=</span> <span class="mi">1</span><span class="o">;</span> <span class="o">}</span>

        <span class="k">return</span> <span class="n">answer</span><span class="o">;</span>
    <span class="o">}</span>



    <span class="kd">private</span> <span class="kt">boolean</span> <span class="nf">eratosthenes</span><span class="o">(</span><span class="kt">long</span> <span class="n">number</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">number</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="n">number</span><span class="o">);</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">number</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">FALSE</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="nc">Boolean</span><span class="o">.</span><span class="na">TRUE</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Tuple</span> <span class="o">&lt;</span><span class="no">T1</span><span class="o">,</span> <span class="no">T2</span><span class="o">&gt;{</span>
        <span class="kd">public</span> <span class="no">T1</span> <span class="n">t1</span><span class="o">;</span>
        <span class="kd">public</span> <span class="no">T2</span> <span class="n">t2</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">Tuple</span><span class="o">(</span><span class="no">T1</span> <span class="n">t1</span><span class="o">,</span> <span class="no">T2</span> <span class="n">t2</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">this</span><span class="o">.</span><span class="na">t1</span> <span class="o">=</span> <span class="n">t1</span><span class="o">;</span>
            <span class="k">this</span><span class="o">.</span><span class="na">t2</span> <span class="o">=</span> <span class="n">t2</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">public</span> <span class="kd">static</span>  <span class="o">&lt;</span><span class="no">T1</span><span class="o">,</span> <span class="no">T2</span><span class="o">&gt;</span> <span class="nc">Tuple</span> <span class="nf">of</span><span class="o">(</span><span class="no">T1</span> <span class="n">t1</span><span class="o">,</span> <span class="no">T2</span> <span class="n">t2</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nc">Tuple</span><span class="o">&lt;&gt;(</span><span class="n">t1</span><span class="o">,</span> <span class="n">t2</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="nf">permutation</span><span class="o">(</span> <span class="nc">String</span> <span class="n">n</span> <span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">strings</span> <span class="o">=</span> <span class="n">n</span><span class="o">.</span><span class="na">split</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
        <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">set</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;&gt;();</span>

        <span class="k">for</span><span class="o">(</span> <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">strings</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span> <span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
            <span class="nc">Stack</span><span class="o">&lt;</span><span class="nc">Tuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">[]&gt;&gt;</span> <span class="n">charSet</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Stack</span><span class="o">&lt;&gt;();</span>
            <span class="kt">boolean</span><span class="o">[]</span> <span class="n">visit</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">boolean</span><span class="o">[</span><span class="n">strings</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
            <span class="nc">String</span> <span class="n">charac</span> <span class="o">=</span> <span class="n">strings</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">charac</span><span class="o">);</span>
            <span class="n">visit</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>

            <span class="n">charSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Tuple</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">charac</span><span class="o">,</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">visit</span><span class="o">,</span> <span class="n">visit</span><span class="o">.</span><span class="na">length</span><span class="o">)));</span>

            <span class="k">while</span><span class="o">(</span> <span class="o">!</span><span class="n">charSet</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span> <span class="o">){</span>
                <span class="nc">Tuple</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="kt">boolean</span><span class="o">[]&gt;</span> <span class="n">pop</span> <span class="o">=</span> <span class="n">charSet</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>



                <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">strings</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span> <span class="o">++</span> <span class="o">)</span> <span class="o">{</span>
                    <span class="k">if</span><span class="o">(!</span><span class="n">pop</span><span class="o">.</span><span class="na">t2</span><span class="o">[</span><span class="n">j</span><span class="o">])</span> <span class="o">{</span>

                        <span class="kt">boolean</span><span class="o">[]</span> <span class="n">cloneMap</span> <span class="o">=</span> <span class="nc">Arrays</span><span class="o">.</span><span class="na">copyOf</span><span class="o">(</span><span class="n">pop</span><span class="o">.</span><span class="na">t2</span><span class="o">,</span> <span class="n">pop</span><span class="o">.</span><span class="na">t2</span><span class="o">.</span><span class="na">length</span><span class="o">);</span>
                        <span class="n">cloneMap</span><span class="o">[</span><span class="n">j</span><span class="o">]</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                        <span class="n">charSet</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="nc">Tuple</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">pop</span><span class="o">.</span><span class="na">t1</span><span class="o">+</span><span class="n">strings</span><span class="o">[</span><span class="n">j</span><span class="o">],</span> <span class="n">cloneMap</span><span class="o">));</span>
                        <span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">pop</span><span class="o">.</span><span class="na">t1</span><span class="o">+</span><span class="n">strings</span><span class="o">[</span><span class="n">j</span><span class="o">]);</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Long</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">set</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="nl">Long:</span><span class="o">:</span><span class="n">parseLong</span><span class="o">).</span><span class="na">distinct</span><span class="o">().</span><span class="na">collect</span><span class="o">(</span><span class="nc">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
        <span class="nc">Collections</span><span class="o">.</span><span class="na">sort</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
</section>
  

</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
  
  <div id="previous-post" class="post-nav-post">
      <p>Previous post</p>
      <a href="/programmers/2024/07/03/Programmers-series-LV.-02-Fibonacci.html">
        [programmers Series] Lv. 02 Fibonacci
      </a>
  </div>
  
  
  <div id="next-post" class="post-nav-post">
      <p>Next post</p>
      <a href="/programmers/2024/07/05/Programmers-series-LV.-02-GameMapShortestPath.html">
        [programmers Series] Lv. 02 Gamemapshortestpath
      </a>
  </div>
  
</div>



    </div>
    
<script src="/assets/js/katex_init.js"></script>



<footer class="site-footer">
	<p class="text">Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <a href="https://github.com/rohanchandra/type-theme">Type Theme</a>
</p>
</footer>


  </body>
</html>
